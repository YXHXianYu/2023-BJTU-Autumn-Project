{"version":3,"sources":["webpack:///./src/components/register.vue?018e","webpack:///src/components/register.vue","webpack:///./src/components/register.vue?24f9","webpack:///./src/components/register.vue?663b","webpack:///./src/components/register.vue?d592"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","ref","attrs","registerForm","rules","model","value","callback","$$v","$set","expression","on","clickLogin","isLoading","clickRegister","_s","text","staticRenderFns","component"],"mappings":"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","file":"js/chunk-4ca5a967.8a5a5aa7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('h1',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"注册\")]),_c('el-form',{ref:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名：\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.registerForm.name),callback:function ($$v) {_vm.$set(_vm.registerForm, \"name\", $$v)},expression:\"registerForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱:\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.registerForm.email),callback:function ($$v) {_vm.$set(_vm.registerForm, \"email\", $$v)},expression:\"registerForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码：\",\"prop\":\"passwd\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\",\"clearable\":\"\"},model:{value:(_vm.registerForm.passwd),callback:function ($$v) {_vm.$set(_vm.registerForm, \"passwd\", $$v)},expression:\"registerForm.passwd\"}})],1),_c('el-form-item',{attrs:{\"label\":\"再次密码：\",\"prop\":\"passwdagain\"}},[_c('el-input',{attrs:{\"placeholder\":\"请确认密码\",\"show-password\":\"\",\"clearable\":\"\"},model:{value:(_vm.registerForm.passwdagain),callback:function ($$v) {_vm.$set(_vm.registerForm, \"passwdagain\", $$v)},expression:\"registerForm.passwdagain\"}})],1),_c('el-form-item',{attrs:{\"label-width\":\"0px\"}},[_c('el-button',{staticStyle:{\"border-color\":\"#ffffff\",\"margin-right\":\"43%\",\"left\":\"0px\"},attrs:{\"size\":\"medium\"},on:{\"click\":_vm.clickLogin}},[_vm._v(\"登录\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"loading\":_vm.isLoading},on:{\"click\":_vm.clickRegister}},[_vm._v(_vm._s(_vm.text))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"register\">\r\n\r\n        <h1 style=\"text-align: center\">注册</h1>\r\n        <el-form ref=\"registerForm\" :model=\"registerForm\" :rules=\"rules\" label-width=\"100px\">\r\n            <el-form-item label=\"用户名：\" prop=\"name\">\r\n                <el-input v-model=\"registerForm.name\" placeholder=\"请输入用户名\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"邮箱:\" prop=\"email\">\r\n                <el-input v-model=\"registerForm.email\" placeholder=\"请输入邮箱\"></el-input>\r\n            </el-form-item>\r\n\r\n\r\n            <el-form-item label=\"密码：\" prop=\"passwd\">\r\n                <el-input v-model=\"registerForm.passwd\" placeholder=\"请输入密码\" show-password clearable></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"再次密码：\" prop=\"passwdagain\">\r\n                <el-input v-model=\"registerForm.passwdagain\" placeholder=\"请确认密码\" show-password clearable></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label-width=\"0px\">\r\n                <el-button size=\"medium\" style=\"border-color: #ffffff; margin-right: 43%; left: 0px;\" @click=\"clickLogin\">登录</el-button>\r\n                <el-button type=\"primary\" size=\"medium\" :loading = \"isLoading\"  @click=\"clickRegister\">{{text}}</el-button>\r\n            </el-form-item>\r\n\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"register\",\r\n        data() {\r\n            var validatePass2 = (rule, value, callback) => {\r\n                if (value === '') {\r\n                    callback(new Error('请再次输入密码'));\r\n                } else if (value !== this.registerForm.passwd) {\r\n                    callback(new Error('两次输入密码不一致!'));\r\n                } else {\r\n                    callback();\r\n                }\r\n            };\r\n\r\n            return {\r\n                state: -1,\r\n                text: \"创建账号\",\r\n                isDisabled: false,\r\n                isLoading: false,\r\n                registerForm: {\r\n                    name: '',\r\n                    email:'',\r\n                    passwd: '',\r\n                    passwdagain: ''\r\n                },\r\n                rules: {\r\n                    name: [\r\n                        {\r\n                            required: true, message: \"请输入用户名\", trigger: 'blur'\r\n                        },\r\n                    ],\r\n                    email: [//如果为空就显示message\r\n                        {\r\n                            required: true, message: \"请输入email\", trigger: 'blur'\r\n                        },\r\n                    ],\r\n                    passwd: [\r\n                        {\r\n                            required: true, message: \"请输入密码\", trigger: 'blur'\r\n                        },\r\n                        {\r\n                            min: 6, message: \"密码必须大于6\", trigger: 'blur'\r\n                        }\r\n                    ],\r\n                    passwdagain: [\r\n                        {\r\n                            required: true, message: \"请输入密码\", trigger: 'blur'\r\n                        },\r\n                        {\r\n                            min: 6, message: \"密码必须大于6\", trigger: 'blur'\r\n                        },\r\n                        {\r\n                            validator: validatePass2, trigger: 'blur'\r\n                        }\r\n                    ]\r\n                },\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            clickRegister() {\r\n                if (this.isLoading) {\r\n                    this.text = \"\"\r\n                }\r\n                //获取到的是添加了ref=\"registerForm\"属性的这个组件 前端判断\r\n                this.$refs[\"registerForm\"].validate((valid) => {\r\n                    if(valid) {\r\n                        //alert(\"valid\"+this.$registerUrl);//http://localhost:10087/user/register\r\n                        this.$axios({\r\n                            url: this.$registerUrl,\r\n                            method: 'post',\r\n                            data: {\r\n                                user: this.registerForm.name,\r\n                                email: this.registerForm.email,//邮箱\r\n                                //passwd: this.$md5(this.registerForm.passwd + this.$salt)\r\n                                passwd : this.registerForm.passwd,\r\n                            },\r\n                            transformRequest: [function (data) {\r\n                                let ret = '';\r\n                                for (let it in data) {\r\n                                    ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\r\n                                }\r\n                                return ret\r\n                            }],\r\n                            headers: {'Content-Type': 'application/x-www-form-urlencoded'}\r\n                        }).then(res => {\r\n                            if (res.data.state === 0) {\r\n                                // alert(\"qianduan 成功 \"+this.$loginUrl);\r\n                                this.$axios({\r\n                                    url: this.$loginUrl,\r\n                                    method: 'post',\r\n                                    data: {\r\n                                        types : 1, \r\n                                        user: this.registerForm.name,\r\n                                        email: this.registerForm.email,\r\n                                        //passwd: this.$md5(this.registerForm.passwd + this.$salt)\r\n                                        passwd: this.registerForm.passwd,\r\n                                    },\r\n\r\n                                    transformRequest: [function (data) {\r\n                                        let ret = '';\r\n                                        for (let it in data) {\r\n                                            ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\r\n                                        }\r\n                                        return ret\r\n                                    }],\r\n                                    headers: {'Content-Type': 'application/x-www-form-urlencoded'}\r\n                                    // headers: {\r\n                                    //     'Content-Type': 'application/x-www-form-urlencoded'\r\n                                    // }\r\n                                }).then(res => {\r\n                                    // alert(\"后端 \"+res.data.state);\r\n                                    this.state = res.data.state;\r\n                                    this.$store.state.userName = this.registerForm.name;\r\n                                    this.$store.state.email = this.registerForm.emial;\r\n                                    this.$store.state.passwd = this.registerForm.passwd;\r\n                                    this.$store.state.token = res.data.token;\r\n                                    this.$store.state.group = res.data.group;\r\n                                    this.$router.push('/mainFrame')\r\n                                })\r\n                            } else {\r\n                                alert(\"账号已存在！\")\r\n                            }\r\n                        })\r\n                        // console.log('success')\r\n                    }else  {\r\n                        this.text = \"创建账户\";\r\n                        this.isLoading = false;\r\n                        this.$alert('账号不成立！', '警告', {\r\n                            confirmButtonText: '确定',\r\n                            callback: {\r\n                            }\r\n                        });\r\n                        // console.log('error submit!!');\r\n                        return false;\r\n                    }\r\n                })\r\n            },\r\n\r\n            loginProcess() {\r\n                if (this.state === 0) {\r\n                    this.$router.push('/mainFrame')\r\n                } else {\r\n                    this.text = \"登录\";\r\n                    this.isLoading = false;\r\n                }\r\n            },\r\n            clickLogin() {\r\n                this.$router.push(\"/login\")\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    .register {\r\n        margin: auto;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        width: 25rem;\r\n        position: absolute;\r\n        background-color: white;\r\n        padding: 20px 20px 10px 20px;\r\n        border-radius: 10px;\r\n        box-shadow: 0px 15px 25px 0px rgba(0, 0, 0, 0.11);\r\n    }\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=6df661cc&scoped=true&\"\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&id=6df661cc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6df661cc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=6df661cc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=6df661cc&scoped=true&lang=css&\""],"sourceRoot":""}