(function(t){function e(e){for(var o,n,s=e[0],l=e[1],c=e[2],d=0,u=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);m&&m(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,n=1;n<a.length;n++){var s=a[n];0!==r[s]&&(o=!1)}o&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var o={},n={app:0},r={app:0},i=[];function s(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-2d0ac3bf":"59a37a49","chunk-2d0b255b":"e2fdae1d","chunk-2d0c0de7":"3c5e9dee","chunk-2d0e88f9":"2646f2ab","chunk-2daecf44":"58f24ca1","chunk-3590052c":"aa668a94","chunk-39e9c3ae":"644f1550","chunk-4ca5a967":"8a5a5aa7","chunk-747fd7b1":"feaf98ae","chunk-7abcf57c":"e6069efc"}[t]+".js"}function l(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"chunk-2daecf44":1,"chunk-3590052c":1,"chunk-39e9c3ae":1,"chunk-4ca5a967":1,"chunk-747fd7b1":1,"chunk-7abcf57c":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var o="css/"+({}[t]||t)+"."+{"chunk-2d0ac3bf":"31d6cfe0","chunk-2d0b255b":"31d6cfe0","chunk-2d0c0de7":"31d6cfe0","chunk-2d0e88f9":"31d6cfe0","chunk-2daecf44":"d2c9c3be","chunk-3590052c":"fe8e3db0","chunk-39e9c3ae":"00e4e206","chunk-4ca5a967":"5b9e2443","chunk-747fd7b1":"ba5dd36a","chunk-7abcf57c":"fe8e3db0"}[t]+".css",r=l.p+o,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===o||d===r))return e()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){c=u[s],d=c.getAttribute("data-href");if(d===o||d===r)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var o=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete n[t],m.parentNode.removeChild(m),a(i)},m.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){n[t]=0})));var o=r[t];if(0!==o)if(o)e.push(o[2]);else{var i=new Promise((function(e,a){o=r[t]=[e,a]}));e.push(o[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=s(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(m);var a=r[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",u.name="ChunkLoadError",u.type=o,u.request=n,a[1](u)}r[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=o,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(a,o,function(e){return t[e]}.bind(null,o));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var m=d;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("85ec"),n=a.n(o);n.a},1954:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("h1",{staticStyle:{"text-align":"center"}},[t._v("登录")]),a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"密码：",prop:"passwd"}},[a("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:t.form.passwd,callback:function(e){t.$set(t.form,"passwd",e)},expression:"form.passwd"}})],1),a("el-form-item",{attrs:{"label-width":"0px"}},[a("el-button",{staticStyle:{"border-color":"#ded9d9","margin-right":"43%",left:"0px"},attrs:{size:"medium"},on:{click:t.clickRegister}},[t._v("创建账户")]),a("el-button",{attrs:{type:"primary",size:"medium",loading:t.isLoading},on:{click:t.ClickLogin}},[t._v(t._s(t.text))])],1)],1)],1)},n=[],r=(a("b0c0"),{name:"login",data:function(){return{state:-1,group:0,text:"登录",isDisabled:!1,isLoading:!1,form:{name:"",passwd:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],passwd:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码必须大于6",trigger:"blur"}]}}},methods:{ClickLogin:function(){var t=this;this.isLoading&&(this.text=""),this.$refs["form"].validate((function(e){if(!e)return t.text="登录",t.isLoading=!1,!1;t.$axios({url:t.$loginUrl,method:"post",data:{types:1,user:t.form.name,passwd:t.form.passwd},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){window.console.log("received"+e.data.state),t.text="",t.isLoading=!0,t.state=e.data.state,t.group=e.data.group,t.$store.state.userName=t.form.name,t.$store.state.passwd=t.form.passwd,t.$store.state.token=e.data.token,t.$store.state.group=e.data.group,t.loginProcess()}))}))},loginProcess:function(){0===this.state?(this.$store.state.userName=this.form.name,1===this.group&&this.$router.push("/mainFrame"),2===this.group&&this.$router.push("/manager")):(this.text="登录",this.isLoading=!1,1===this.state&&this.$alert("账号不存在！","警告",{confirmButtonText:"确定",callback:{}}),-1===this.state&&this.$alert("密码错误！","警告",{confirmButtonText:"确定",callback:{}}))},clickRegister:function(){this.$router.push("/register")}}}),i=r,s=(a("852e"),a("2877")),l=Object(s["a"])(i,o,n,!1,null,"bd414f3e",null);e["default"]=l.exports},"3cd6":function(t,e,a){},"4f39":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0px",padding:"0px"},attrs:{id:"building"}},[a("transition",{attrs:{name:"transitionRouter"}},[a("router-view")],1)],1)},r=[],i={},s=i,l=(a("034f"),a("2877")),c=Object(l["a"])(s,n,r,!1,null,null,null),d=c.exports,u=a("5c96"),m=a.n(u),f=a("2f62");o["default"].use(f["a"]);var p=new f["a"].Store({state:{userName:"",token:"123456",group:-1,passwd:"",pswMD5:"",pushAddr:""},mutations:{},actions:{}}),h=(a("d3b7"),a("8c4f")),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card",staticStyle:{transform:"translateX(10%)"},attrs:{width:"500px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 起草合同 ")]),a("div",[a("el-form",{ref:"draftForm",attrs:{model:t.draftForm,rules:t.rule,"label-position":"left","label-width":"85px",disabled:t.isdisabled}},[a("el-form-item",{attrs:{label:"合同名称:",prop:"name"}},[a("el-input",{model:{value:t.draftForm.contract_name,callback:function(e){t.$set(t.draftForm,"contract_name",e)},expression:"draftForm.contract_name"}})],1),a("el-form-item",{attrs:{label:"客户:",prop:"userName"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.draftForm.customer,callback:function(e){t.$set(t.draftForm,"customer",e)},expression:"draftForm.customer"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-button",{on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加客户")])],1),a("el-form-item",{attrs:{label:"活动时间",prop:"date"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.draftForm.date,callback:function(e){t.$set(t.draftForm,"date",e)},expression:"draftForm.date"}})],1),a("el-form-item",{attrs:{label:"合同内容",prop:"info"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6}},model:{value:t.draftForm.content,callback:function(e){t.$set(t.draftForm,"content",e)},expression:"draftForm.content"}})],1),a("el-form-item",{attrs:{label:"提交合同",prop:"info"}},[a("input",{ref:"fileInput",attrs:{type:"file",name:"file"},on:{change:t.handleFileChange}})]),a("el-form-item",[a("el-row",[a("el-col",{attrs:{span:15}},[a("el-button",{attrs:{type:"primary"},on:{click:t.postContract}},[t._v("确定")])],1),a("el-col",{attrs:{span:9}},[a("el-button",{attrs:{type:"danger"},on:{click:t.resetContract}},[t._v("重置")])],1)],1)],1)],1)],1),a("el-dialog",{attrs:{center:"",width:"35%",title:"添加客户",visible:t.dialogVisible,"append-to-body":""},on:{close:t.closeDlg,"update:visible":function(e){t.dialogVisible=e}}},[a("add-customer")],1)],1)],1)},g=[],v=(a("b0c0"),a("159b"),a("bebb")),w={mounted:function(){},name:"draft",components:{AddCustomer:v["default"]},data:function(){var t=this,e=function(){var e=[];return t.$axios({url:t.$url+"/operator/draft",method:"post",data:{types:0,user_name:t.$store.state.userName,token:t.$store.state.token},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){a.data.customers.forEach((function(o,n){window.console.log("Reci Customer"+o),e.push({value:o,label:o,index:n}),window.console.log("Right:"+a.data.right),0===a.data.right&&(t.isdisabled=!0,t.$notify({title:"失败",message:"您没有该权限！",type:"failed"})),window.console.log("Reci Customer2"+e[0].value)}))})),e};return{dialogVisible:!1,draftForm:{contract_name:"",customer:"",date:"",start_time:"",end_time:"",content:"",isdisabled:!1,user_name:this.$store.userName,file_name:null,filedename:""},nullContract:{name:"",userName:"",date:"",info:""},options:e(),value:"",customerValue:"",rule:{content:{required:!0,message:"请输入合同内容",trigger:"blur"}}}},methods:{handleFileChange:function(t){window.console.log("handleFileChange="),window.console.log("handleFileChange="+t.target.files[0]),this.draftForm.filedename=t.target.files[0].name,this.draftForm.file_name=t.target.files[0],new Blob([t.target.files[0]])},resetContract:function(){var t=this;this.$confirm("此操作将清空该合同，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.draftForm=t.cleanJson(t.draftForm),t.$notify({title:"成功",message:"清空成功！",type:"success"})}))},closeDlg:function(){var t=this,e=function(){var e=[];return t.$axios({url:t.$url+"/customer/selectAllCustomer",method:"post",data:{token:t.$store.state.token},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){t.data.customers.forEach((function(t,a){e.push({value:t,label:t,index:a})}))})),e};this.options=e()},postContract:function(){var t=this;this.$refs["draftForm"].validate((function(e){if(e){window.console.log("receive: "+t.draftForm.file_name),t.$axios({url:t.$url+"/operator/draft",method:"post",data:{types:1,token:t.$store.state.token,contract_name:t.draftForm.contract_name,customer:t.draftForm.customer,start_time:t.draftForm.date[0],end_time:t.draftForm.date[1],content:t.draftForm.content,user_name:t.$store.state.userName,file_name:t.draftForm.filedename},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){0===e.data.state&&(t.$notify({title:"成功",message:"成功添加合同！",type:"success"}),t.draftForm=t.cleanJson(t.draftForm)),-1===e.data.state&&t.$notify({title:"失败",message:"添加合同失败！",type:"error"}),console.log(e)}));var a=new FormData;a.append("file",t.draftForm.file_name),a.append("contract_name",t.draftForm.contract_name),t.$axios({url:t.$url+"/file/file_upload",method:"post",data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t)}))}else t.$notify({title:"失败",message:"文件提交失败！",type:"error"})}))},cleanJson:function(t){for(var e in t)t[e]="";return t}}},y=w,k=(a("ff82"),a("b144"),Object(l["a"])(y,b,g,!1,null,"4b9f9e7d",null)),$=k.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.contract_name.toLowerCase().includes(t.search.toLowerCase())})),height:"500"}},[a("el-table-column",{attrs:{label:"序号",prop:"index"}}),a("el-table-column",{attrs:{label:"合同名称",prop:"contract_name"}}),a("el-table-column",{attrs:{label:"起草时间",prop:"date"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("分配合同 ")])]}}])})],1),a("el-dialog",{attrs:{title:"分配合同",visible:t.dialog2Visible,"append-to-body":""},on:{close:t.closeDlg,"update:visible":function(e){t.dialog2Visible=e}}},[a("el-container",{attrs:{direction:"vertical"}},[a("el-container",[a("el-header",[t._v("分配会签人")]),a("el-main",[a("el-transfer",{staticClass:"main-transfer",attrs:{filterable:"","filter-placeholder":"请输入用户名",data:t.counterData,titles:["待分配人员","已分配人员列表"],disabled:"toLeftDisable"},model:{value:t.commitValue,callback:function(e){t.commitValue=e},expression:"commitValue"}})],1)],1),a("el-container",[a("el-header",[t._v("分配审批人")]),a("el-main",[a("el-transfer",{staticClass:"main-transfer",attrs:{filterable:"","filter-placeholder":"请输入用户名",data:t.approveData,titles:["待分配人员","已分配人员列表"]},model:{value:t.watchValue,callback:function(e){t.watchValue=e},expression:"watchValue"}})],1)],1),a("el-container",[a("el-header",[t._v("分配签订人")]),a("el-main",[a("el-transfer",{staticClass:"main-transfer",attrs:{filterable:"","filter-placeholder":"请输入用户名",data:t.signData,titles:["待分配人员","已分配人员列表"]},model:{value:t.signValue,callback:function(e){t.signValue=e},expression:"signValue"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:15}},[a("el-button",{attrs:{type:"primary"},on:{click:t.sendData}},[t._v("确定")])],1),a("el-col",{attrs:{span:9}},[a("el-button",{on:{click:t.closeDlg}},[t._v("取消")])],1)],1)],1)],1)],1)},_=[],C=(a("a434"),{name:"allocContract",data:function(){var t=this,e=function(){var e=[];return t.$axios({url:t.$url+"/manager/display/search",method:"post",data:{types:1,token:t.$store.state.token,process:1},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){t.data.contracts.forEach((function(t,a){e.push({index:a+1,date:t.beginTime,contract_name:t.name,id:t.id})}))})),e};return{search:"",tableData:e(),dialogVisible:!1,dialog2Visible:!1,dialog3Visible:!1,dialog4Visible:!1,msg:"",index:-1,row:-1,resData:[],commitValue:[],watchValue:[],signValue:[],permissionData:[],counterData:[],signData:[],approveData:[]}},methods:{sendData:function(){var t,e,a;window.console.log("hhh"),t=[],e=[],a=[],t=this.commitValue,e=this.watchValue,a=this.signValue,window.console.log("commit: "+t),window.console.log("signuser: "+e),window.console.log("watchuser: "+a),0===t.length||0===e.length||0===a.length?this.$notify({title:"失败",message:"分配失败！",type:"failure"}):(this.$axios({url:this.$url+"/manager/display/distribute",method:"post",data:{types:1,token:this.$store.state.token,con_id:this.row.id,counter_names:t,approve_names:a,sign_names:e,contract_name:this.row.contract_name},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}),this.tableData.splice(this.index,1),this.$notify({title:"成功",message:"分配成功！",type:"success"})),this.dialog2Visible=!1},closeDlg:function(){this.permissionData=[],this.commitValue=[],this.watchValue=[],this.signValue=[],this.dialog2Visible=!1,console.log(this.permissionData)},handleEdit:function(t,e){var a=this;this.index=t,this.row=e,this.dialog2Visible=!0;var o=function(){var t=[],e=[],o=[],n=[];return a.$axios({url:a.$url+"/manager/display/distribute",method:"post",data:{types:0,token:a.$store.state.token,con_id:a.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){t.data.counters.forEach((function(t){n.push({label:t.name,key:t.id})})),t.data.approves.forEach((function(t){o.push({label:t.name,key:t.id})})),t.data.signs.forEach((function(t){e.push({label:t.name,key:t.id})}))})),console.log("0",e),console.log("1",n),console.log("2",o),a.signData=e,a.approveData=o,a.counterData=n,t};this.permissionData=o()},changeCommit:function(t,e,a){"right"===e&&this.$axios({url:this.$url+"/contract/updatePermission",method:"post",data:{token:this.$store.state.token,con_id:this.row.id,type:1,list:a},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}),"left"===e&&this.$axios({url:this.$url+"/contract/updatePermission",method:"post",data:{token:this.$store.state.token,con_id:this.row.id,type:-1,list:a},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},changeWatch:function(t,e,a){"right"===e&&this.$axios({url:this.$url+"/contract/updatePermission",method:"post",data:{token:this.$store.state.token,con_id:this.row.id,type:2,list:a},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}),"left"===e&&this.$axios({url:this.$url+"/contract/updatePermission",method:"post",data:{token:this.$store.state.token,con_id:this.row.id,type:-2,list:a},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},changeSign:function(t,e,a){"right"===e&&this.$axios({url:this.$url+"/contract/updatePermission",method:"post",data:{token:this.$store.state.token,con_id:this.row.id,type:4,list:a},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}),"left"===e&&this.$axios({url:this.$url+"/contract/updatePermission",method:"post",data:{token:this.$store.state.token,con_id:this.row.id,type:-4,list:a},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}),F=C,R=Object(l["a"])(F,x,_,!1,null,"6cb020cd",null),V=R.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.contract_name.toLowerCase().includes(t.search.toLowerCase())})),height:"500"}},[a("el-table-column",{attrs:{label:"序号",prop:"index"}}),a("el-table-column",{attrs:{label:"合同名称",prop:"contract_name"}}),a("el-table-column",{attrs:{label:"起草时间",prop:"date"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleWatch(e.$index,e.row)}}},[t._v("查看 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("会签 ")])]}}])})],1),a("el-dialog",{attrs:{title:"修改合同",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("edit-contract")],1),a("el-dialog",{attrs:{title:"确认会签",visible:t.dialog2Visible,"append-to-body":""},on:{"update:visible":function(e){t.dialog2Visible=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"会签意见"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog2Visible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.postMsg()}}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"查看合同",visible:t.dialog3Visible,"append-to-body":""},on:{"update:visible":function(e){t.dialog3Visible=e}}},[a("el-form",{ref:"draftForm",attrs:{model:t.draftForm,"label-position":"left","label-width":"85px"}},[a("el-form-item",{attrs:{label:"合同名称:",prop:"name"}},[a("el-input",{model:{value:t.draftForm.name,callback:function(e){t.$set(t.draftForm,"name",e)},expression:"draftForm.name"}})],1),a("el-form-item",{attrs:{label:"客户:",prop:"userName"}},[a("el-input",{model:{value:t.draftForm.customer,callback:function(e){t.$set(t.draftForm,"customer",e)},expression:"draftForm.customer"}})],1),a("el-form-item",{attrs:{label:"活动时间",prop:"name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:t.draftForm.start_time,callback:function(e){t.$set(t.draftForm,"start_time",e)},expression:"draftForm.start_time"}})],1),a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:t.draftForm.end_time,callback:function(e){t.$set(t.draftForm,"end_time",e)},expression:"draftForm.end_time"}})],1)],1),a("el-form-item",{attrs:{label:"合同内容",prop:"info"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6}},model:{value:t.draftForm.content,callback:function(e){t.$set(t.draftForm,"content",e)},expression:"draftForm.content"}})],1),a("el-form-item",{attrs:{label:"下载合同",prop:"info"}},[a("el-button",{on:{click:t.DownFile}},[t._v("下载附件")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialog3Visible=!1}}},[t._v("确 定")])],1)],1)],1)},D=[],U={name:"counterSign",data:function(){var t=this,e=function(){var e=[];return window.console.log("fasong"+t.$store.state.userName),t.$axios({url:t.$url+"/operator/counter",method:"post",data:{types:0,matter:2,user_name:t.$store.state.userName,token:t.$store.state.token,type:"counterSign"},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){t.data.contracts.forEach((function(t,a){e.push({index:a+1,date:t.beginTime,contract_name:t,id:t.id})}))})),e};return{search:"",tableData:e(),dialogVisible:!1,dialog2Visible:!1,dialog3Visible:!1,msg:"",index:-1,row:-1,draftForm:{name:"",start_time:"",customer:"",end_time:"1010-10-10",userName:this.$store.userName,date:"",info:""}}},methods:{DownFile:function(){window.open(this.$url+"/file/file_download?contract_name="+this.row.contract_name,"_self")},sendDataToBackend:function(){var t=this;this.$axios({url:"http://localhost:10087/mainFrame/counterSign",method:"post",data:{user_name:this.$store.state.userName},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){-1===e.data.state&&t.$notify({title:"失败",message:"待会签！",type:"error"}),0===e.data.state&&(t.$notify({title:"成功",message:"待会签成功",type:"success"}),t.constructs=e.data.constructs)}))},handleEdit:function(t,e){this.dialog2Visible=!0,this.index=t,this.row=e,console.log(t,e)},handleWatch:function(t,e){var a=this;window.console.log("watching: "+e.contract_name),this.index=t,this.row=e,this.$axios({url:this.$url+"/Check",method:"post",data:{contract_name:this.row.contract_name,matter:2,user_name:this.$store.state.userName,token:this.$store.state.token,id:this.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){a.handleData(t)})),this.dialog3Visible=!0},handleData:function(t){if(-1===t.data.state&&(this.$notify({title:"失败",message:"获取失败！",type:"error"}),this.dialog3Visible=!1),0===t.data.state){window.console.log(t.data.name+t.data.customer+t.data.start_time),this.draftForm.name=this.row.contract_name,this.draftForm.customer=t.data.customer;var e=[];e[0]=t.data.start_time,e[1]=t.data.end_time,this.draftForm.start_time=t.data.start_time,this.draftForm.content=t.data.content,this.draftForm.end_time=t.data.end_time}this.dialogVisible=!1},postMsg:function(){var t=this;window.console.log("huiqianiiiiiiiiiii"),window.console.log("post:"+this.row.contract_name),this.$axios({url:this.$url+"/operator/counter",method:"post",data:{types:1,user_name:this.$store.state.userName,contract_name:this.row.contract_name,content:this.msg,token:this.$store.state.token,id:this.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){-1===e.data.state&&t.$notify({title:"失败",message:"定稿失败！",type:"error"}),0===e.data.state&&(t.tableData.splice(t.index,1),t.$notify({title:"成功",message:"会签成功！",type:"success"}),t.dialog2Visible=!1),t.msg="",t.dialog2Visible=!1}))},handleDelete:function(t,e){console.log(t,e)},comment:function(){var t=this;this.$prompt("定稿意见","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(e){var a=e.value;t.$message({type:"success",message:"提交成功！定稿意见为："+a})})).catch((function(){t.$message({type:"info",message:"取消输入"})}))}}},O=U,I=Object(l["a"])(O,T,D,!1,null,"486e418e",null),S=I.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.contract_name.toLowerCase().includes(t.search.toLowerCase())})),height:"500"}},[a("el-table-column",{attrs:{label:"序号",prop:"index"}}),a("el-table-column",{attrs:{label:"合同名称",prop:"contract_name"}}),a("el-table-column",{attrs:{label:"起草时间",prop:"date"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleWatch(e.$index,e.row)}}},[t._v("查看 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("审批 ")])]}}])})],1),a("el-dialog",{attrs:{title:"确认审批",visible:t.dialog2Visible,"append-to-body":""},on:{"update:visible":function(e){t.dialog2Visible=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"审批意见详情:"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog2Visible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.postMsg(0)}}},[t._v("拒 绝")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.postMsg(1)}}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"查看",visible:t.dialog3Visible,"append-to-body":""},on:{"update:visible":function(e){t.dialog3Visible=e}}},[a("el-form",{ref:"draftForm",attrs:{model:t.draftForm,"label-position":"left","label-width":"85px"}},[a("el-form-item",{attrs:{label:"合同名称:",prop:"name"}},[a("el-input",{model:{value:t.draftForm.name,callback:function(e){t.$set(t.draftForm,"name",e)},expression:"draftForm.name"}})],1),a("el-form-item",{attrs:{label:"客户:",prop:"userName"}},[a("el-input",{model:{value:t.draftForm.customer,callback:function(e){t.$set(t.draftForm,"customer",e)},expression:"draftForm.customer"}})],1),a("el-form-item",{attrs:{label:"起草时间",prop:"date"}},[a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:t.draftForm.start_time,callback:function(e){t.$set(t.draftForm,"start_time",e)},expression:"draftForm.start_time"}})],1),a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:t.draftForm.end_time,callback:function(e){t.$set(t.draftForm,"end_time",e)},expression:"draftForm.end_time"}})],1)],1),a("el-form-item",{attrs:{label:"合同内容",prop:"info"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6}},model:{value:t.draftForm.info,callback:function(e){t.$set(t.draftForm,"info",e)},expression:"draftForm.info"}})],1),a("el-form-item",{attrs:{label:"下载合同",prop:"info"}},[a("el-button",{on:{click:t.DownFile}},[t._v("下载附件")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialog3Visible=!1}}},[t._v("确 定")])],1)],1)],1)},A=[],P={name:"watchContract",data:function(){var t=this,e=function(){var e=[];return t.$axios({url:t.$url+"/operator/approve",method:"post",data:{types:0,matter:4,user_name:t.$store.state.userName,token:t.$store.state.token,type:"watchContract"},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){t.data.approves.forEach((function(t,a){e.push({index:a+1,contract_name:t,id:t.id})}))})),e};return{search:"",tableData:e(),dialog2Visible:!1,dialog3Visible:!1,msg:"",index:-1,row:-1,draftForm:{start_time:"",end_time:"",customer:"",name:"",userName:"",date:"",info:""}}},methods:{DownFile:function(){window.open(this.$url+"/file/file_download?contract_name="+this.row.contract_name,"_self")},handleEdit:function(t,e){this.dialog2Visible=!0,this.index=t,this.row=e,console.log(t,e)},handleWatch:function(t,e){var a=this;this.index=t,this.row=e,this.$axios({url:this.$url+"/Check",method:"post",data:{matter:4,contract_name:this.row.contract_name,user_name:this.$store.state.userName,token:this.$store.state.token,id:this.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){a.handleData(t)})),this.dialog3Visible=!0},handleData:function(t){if(window.console.log(t.data),-1===t.data.state&&(this.$notify({title:"失败",message:"获取失败！",type:"error"}),this.dialog3Visible=!1),0===t.data.state){this.draftForm.name=this.row.contract_name,this.draftForm.customer=t.data.customer,this.draftForm.start_time=t.data.start_time,this.draftForm.end_time=t.data.end_time;var e=[];e[0]=t.data.beginTime,e[1]=t.data.endTime,this.draftForm.date=e,this.draftForm.info=t.data.content}this.dialogVisible=!1},postMsg:function(t){var e=this;this.dialog2Visible=!1,this.$axios({url:this.$url+"/operator/approve",method:"post",data:{types:1,user_name:this.$store.state.userName,contract_name:this.row.contract_name,token:this.$store.state.token,content:this.msg,id:this.row.id,accept:t},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){-1===t.data.state&&e.$notify({title:"失败",message:"审批失败！",type:"error"}),0===t.data.state&&(e.tableData.splice(e.index,1),e.$notify({title:"成功",message:"审批成功！",type:"success"})),e.msg=""}))},handleDelete:function(t,e){console.log(t,e)},comment:function(){var t=this;this.$prompt("定稿意见","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(e){var a=e.value;t.$message({type:"success",message:"提交成功！定稿意见为："+a})})).catch((function(){t.$message({type:"info",message:"取消输入"})}))}}},E=P,j=Object(l["a"])(E,N,A,!1,null,"1feb1a7f",null),L=j.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.contract_name.toLowerCase().includes(t.search.toLowerCase())})),height:"500"}},[a("el-table-column",{attrs:{label:"序号",prop:"index"}}),a("el-table-column",{attrs:{label:"合同名称",prop:"contract_name"}}),a("el-table-column",{attrs:{label:"起草时间",prop:"date"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleWatch(e.$index,e.row)}}},[t._v("查看 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("签订 ")])]}}])})],1),a("el-dialog",{attrs:{title:"修改合同",visible:t.dialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("edit-contract")],1),a("el-dialog",{attrs:{title:"确认签订",visible:t.dialog2Visible,"append-to-body":""},on:{"update:visible":function(e){t.dialog2Visible=e}}},[a("el-form",{ref:"draftForm",attrs:{model:t.draftForm,"label-position":"left","label-width":"85px"}},[a("el-form-item",{attrs:{label:"合同名称:",prop:"name"}},[a("el-input",{model:{value:t.draftForm.name,callback:function(e){t.$set(t.draftForm,"name",e)},expression:"draftForm.name"}})],1),a("el-form-item",{attrs:{label:"客户:",prop:"userName"}},[a("el-input",{model:{value:t.draftForm.customer,callback:function(e){t.$set(t.draftForm,"customer",e)},expression:"draftForm.customer"}})],1),a("el-form-item",{attrs:{label:"起草时间",prop:"date"}},[a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:t.draftForm.start_time,callback:function(e){t.$set(t.draftForm,"start_time",e)},expression:"draftForm.start_time"}})],1),a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:t.draftForm.end_time,callback:function(e){t.$set(t.draftForm,"end_time",e)},expression:"draftForm.end_time"}})],1)],1),a("el-form-item",{attrs:{label:"合同内容",prop:"info"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6}},model:{value:t.draftForm.info,callback:function(e){t.$set(t.draftForm,"info",e)},expression:"draftForm.info"}})],1),a("el-form-item",{attrs:{label:"下载合同",prop:"info"}},[a("el-button",{on:{click:t.DownFile}},[t._v("下载附件")])],1)],1),a("el-form",[a("el-form-item",{attrs:{label:"签订意见"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog2Visible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.postMsg}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"查看",visible:t.dialog3Visible,"append-to-body":""},on:{"update:visible":function(e){t.dialog3Visible=e}}},[a("el-form",{ref:"draftForm",attrs:{model:t.draftForm,"label-position":"left","label-width":"85px"}},[a("el-form-item",{attrs:{label:"合同名称:",prop:"name"}},[a("el-input",{model:{value:t.draftForm.name,callback:function(e){t.$set(t.draftForm,"name",e)},expression:"draftForm.name"}})],1),a("el-form-item",{attrs:{label:"客户:",prop:"userName"}},[a("el-input",{model:{value:t.draftForm.customer,callback:function(e){t.$set(t.draftForm,"customer",e)},expression:"draftForm.customer"}})],1),a("el-form-item",{attrs:{label:"起草时间",prop:"date"}},[a("el-input",{model:{value:t.draftForm.start_time,callback:function(e){t.$set(t.draftForm,"start_time",e)},expression:"draftForm.start_time"}})],1),a("el-form-item",{attrs:{label:"合同内容",prop:"info"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6}},model:{value:t.draftForm.info,callback:function(e){t.$set(t.draftForm,"info",e)},expression:"draftForm.info"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialog3Visible=!1}}},[t._v("确 定")])],1)],1)],1)},M=[],B={name:"signContract",data:function(){var t=this,e=function(){var e=[];return t.$axios({url:t.$url+"/operator/sign",method:"post",data:{types:0,matter:6,user_name:t.$store.state.userName,token:t.$store.state.token,type:"sign"},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){t.data.signs.forEach((function(t,a){e.push({index:a+1,date:t.beginTime,contract_name:t,id:t.id})}))})),e};return{search:"",tableData:e(),dialogVisible:!1,dialog2Visible:!1,dialog3Visible:!1,msg:"",index:-1,row:-1,draftForm:{start_time:"",end_time:"",name:"",userName:"",date:"",info:""}}},methods:{DownFile:function(){window.open(this.$url+"/file/file_download?contract_name="+this.row.contract_name,"_self")},handleEdit:function(t,e){this.handleWatch(t,e),this.dialog3Visible=!1,this.dialog2Visible=!0,this.index=t,this.row=e,console.log(t,e)},handleWatch:function(t,e){var a=this;this.index=t,this.row=e,this.$axios({url:this.$url+"/Check",method:"post",data:{matter:6,contract_name:this.row.contract_name,user_name:this.$store.state.userName,token:this.$store.state.token,id:this.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){a.handleData(t)})),this.dialog3Visible=!0},handleData:function(t){if(-1===t.data.state&&(this.$notify({title:"失败",message:"获取失败！",type:"error"}),this.dialog3Visible=!1),0===t.data.state){this.draftForm.name=this.row.contract_name,this.draftForm.customer=t.data.customer,this.draftForm.start_time=t.data.start_time,this.draftForm.end_time=t.data.end_time;var e=[];e[0]=t.data.beginTime,e[1]=t.data.endTime,this.draftForm.date=e,this.draftForm.info=t.data.content}this.dialogVisible=!1},postMsg:function(){var t=this;this.$axios({url:this.$url+"/operator/sign/fill",method:"post",data:{types:1,contract_name:this.row.contract_name,user_name:this.$store.state.userName,content:this.msg,token:this.$store.state.token,id:this.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){-1===e.data.state&&t.$notify({title:"失败",message:"签订失败！",type:"error"}),0===e.data.state&&(t.tableData.splice(t.index,1),t.$notify({title:"成功",message:"签订成功！",type:"success"})),t.msg="",t.dialog2Visible=!1}))},handleDelete:function(t,e){console.log(t,e)},comment:function(){var t=this;this.$prompt("定稿意见","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(e){var a=e.value;t.$message({type:"success",message:"提交成功！定稿意见为："+a})})).catch((function(){t.$message({type:"info",message:"取消输入"})}))}}},z=B,W=Object(l["a"])(z,q,M,!1,null,"339c11a1",null),J=W.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.contract_name.toLowerCase().includes(t.search.toLowerCase())}))}},[a("el-table-column",{attrs:{label:"序号",prop:"index"}}),a("el-table-column",{attrs:{label:"合同名称",prop:"contract_name"}}),a("el-table-column",{attrs:{label:"起草时间",prop:"date"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleWatch(e.$index,e.row)}}},[t._v("查看 ")])]}}])})],1),a("el-dialog",{attrs:{title:"修改合同",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("edit-contract")],1),a("el-dialog",{attrs:{title:"确认会签",visible:t.dialog2Visible},on:{"update:visible":function(e){t.dialog2Visible=e}}},[a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog2Visible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.postMsg}},[t._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"查看",visible:t.dialog3Visible},on:{"update:visible":function(e){t.dialog3Visible=e}}},[a("el-form",{ref:"draftForm",attrs:{model:t.draftForm,"label-position":"left","label-width":"85px"}},[a("el-form-item",{attrs:{label:"合同名称:",prop:"name"}},[a("el-input",{model:{value:t.draftForm.name,callback:function(e){t.$set(t.draftForm,"name",e)},expression:"draftForm.name"}})],1),a("el-form-item",{attrs:{label:"客户:",prop:"userName"}},[a("el-input",{model:{value:t.draftForm.userName,callback:function(e){t.$set(t.draftForm,"userName",e)},expression:"draftForm.userName"}})],1),a("el-form-item",{attrs:{label:"活动时间",prop:"date"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.draftForm.date,callback:function(e){t.$set(t.draftForm,"date",e)},expression:"draftForm.date"}})],1),a("el-form-item",{attrs:{label:"合同内容",prop:"info"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6}},model:{value:t.draftForm.info,callback:function(e){t.$set(t.draftForm,"info",e)},expression:"draftForm.info"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialog3Visible=!1}}},[t._v("确 定")])],1)],1)],1)},K=[],Q={name:"iscounterSign",data:function(){var t=this,e=function(){var e=[];return t.$axios({url:t.$url+"/contract/selectContractByType",method:"post",data:{matter:3,userName:t.$store.userName,token:t.$store.state.token,type:"iscounterSign"},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){t.data.contracts.forEach((function(t,a){e.push({index:a+1,date:t.beginTime,contract_name:t.name,id:t.id})}))})),e};return{search:"",tableData:e(),dialogVisible:!1,dialog2Visible:!1,dialog3Visible:!1,msg:"",index:-1,row:-1,draftForm:{name:"",userName:"",date:"",info:""}}},methods:{handleEdit:function(t,e){this.dialog2Visible=!0,this.index=t,this.row=e,console.log(t,e)},handleWatch:function(t,e){var a=this;this.index=t,this.row=e,this.$axios({url:this.$url+"/contract/selContract",method:"post",data:{matter:3,contract_name:e.contract_name,userName:this.$store.userName,token:this.$store.state.token,id:this.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){a.handleData(t)})),this.dialog3Visible=!0},handleData:function(t){if(-1===t.data.state&&(this.$notify({title:"失败",message:"获取失败！",type:"error"}),this.dialog3Visible=!1),0===t.data.state){this.draftForm.name=t.data.name,this.draftForm.userName=t.data.customer;var e=[];e[0]=t.data.data.beginTime,e[1]=t.data.data.endTime,this.draftForm.date=e,this.draftForm.info=t.data.content}this.dialogVisible=!1},postMsg:function(){var t=this;this.$axios({url:this.$url+"/contract/counter",method:"post",data:{token:this.$store.state.token,id:this.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(-1===e.data.state&&t.$notify({title:"失败",message:"定稿失败！",type:"error"}),0===e.data.state){var a=[];e.data.data.forEach((function(t,e){a.push({index:e+1,date:t.beginTime,contract_name:t.name,id:t.id})})),t.tableData=a,t.$notify({title:"成功",message:"会签成功！",type:"success"})}t.msg="",t.dialog2Visible=!1}))},handleDelete:function(t,e){console.log(t,e)},comment:function(){var t=this;this.$prompt("定稿意见","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(e){var a=e.value;t.$message({type:"success",message:"提交成功！定稿意见为："+a})})).catch((function(){t.$message({type:"info",message:"取消输入"})}))}}},X=Q,Y=Object(l["a"])(X,H,K,!1,null,"e52e8914",null),G=Y.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.contract_name.toLowerCase().includes(t.search.toLowerCase())}))}},[a("el-table-column",{attrs:{label:"序号",prop:"index"}}),a("el-table-column",{attrs:{label:"合同名称",prop:"contract_name"}}),a("el-table-column",{attrs:{label:"起草时间",prop:"date"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleWatch(e.$index,e.row)}}},[t._v("查看 ")])]}}])})],1),a("el-dialog",{attrs:{title:"修改合同",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("edit-contract")],1),a("el-dialog",{attrs:{title:"确认会签",visible:t.dialog2Visible},on:{"update:visible":function(e){t.dialog2Visible=e}}},[a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog2Visible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.postMsg}},[t._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"查看",visible:t.dialog3Visible},on:{"update:visible":function(e){t.dialog3Visible=e}}},[a("el-form",{ref:"draftForm",attrs:{model:t.draftForm,"label-position":"left","label-width":"85px"}},[a("el-form-item",{attrs:{label:"合同名称:",prop:"name"}},[a("el-input",{model:{value:t.draftForm.name,callback:function(e){t.$set(t.draftForm,"name",e)},expression:"draftForm.name"}})],1),a("el-form-item",{attrs:{label:"客户:",prop:"userName"}},[a("el-input",{model:{value:t.draftForm.userName,callback:function(e){t.$set(t.draftForm,"userName",e)},expression:"draftForm.userName"}})],1),a("el-form-item",{attrs:{label:"活动时间",prop:"date"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.draftForm.date,callback:function(e){t.$set(t.draftForm,"date",e)},expression:"draftForm.date"}})],1),a("el-form-item",{attrs:{label:"合同内容",prop:"info"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6}},model:{value:t.draftForm.info,callback:function(e){t.$set(t.draftForm,"info",e)},expression:"draftForm.info"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialog3Visible=!1}}},[t._v("确 定")])],1)],1)],1)},tt=[],et={name:"isWatchContract",data:function(){var t=this,e=function(){var e=[];return t.$axios({url:t.$url+"/contract/selectContractByType",method:"post",data:{matter:5,userName:t.$store.userName,token:t.$store.state.token,type:"iswatchContract"},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){t.data.contracts.forEach((function(t,a){e.push({index:a+1,date:t.beginTime,contract_name:t.name,id:t.id})}))})),e};return{search:"",tableData:e(),dialogVisible:!1,dialog2Visible:!1,dialog3Visible:!1,msg:"",index:-1,row:-1,draftForm:{name:"",userName:"",date:"",info:""}}},methods:{handleEdit:function(t,e){this.dialog2Visible=!0,this.index=t,this.row=e,console.log(t,e)},handleWatch:function(t,e){var a=this;this.index=t,this.row=e,this.$axios({url:this.$url+"/contract/selContract",method:"post",data:{contract_name:e.contract_name,matter:5,userName:this.$store.userName,token:this.$store.state.token,id:this.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){a.handleData(t)})),this.dialog3Visible=!0},handleData:function(t){if(-1===t.data.state&&(this.$notify({title:"失败",message:"获取失败！",type:"error"}),this.dialog3Visible=!1),0===t.data.state){this.draftForm.name=t.data.name,this.draftForm.userName=t.data.customer;var e=[];e[0]=t.data.beginTime,e[1]=t.data.endTime,this.draftForm.date=e,this.draftForm.info=t.data.content}this.dialogVisible=!1},postMsg:function(){var t=this;this.$axios({url:this.$url+"/contract/counter",method:"post",data:{token:this.$store.state.token,id:this.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(-1===e.data.state&&t.$notify({title:"失败",message:"定稿失败！",type:"error"}),0===e.data.state){var a=[];e.data.data.forEach((function(t,e){a.push({index:e+1,date:t.beginTime,contract_name:t.name,id:t.id})})),t.tableData=a,t.$notify({title:"成功",message:"会签成功！",type:"success"})}t.msg="",t.dialog2Visible=!1}))},handleDelete:function(t,e){console.log(t,e)},comment:function(){var t=this;this.$prompt("定稿意见","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(e){var a=e.value;t.$message({type:"success",message:"提交成功！定稿意见为："+a})})).catch((function(){t.$message({type:"info",message:"取消输入"})}))}}},at=et,ot=Object(l["a"])(at,Z,tt,!1,null,"1265b3cc",null),nt=ot.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.constructs,(function(e,o){return a("div",{key:o},[t._v(" "+t._s(e)+" ")])})),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.contract_name.toLowerCase().includes(t.search.toLowerCase())}))}},[a("el-table-column",{attrs:{label:"序号",prop:"index"}}),a("el-table-column",{attrs:{label:"合同名称",prop:"contract_name"}}),a("el-table-column",{attrs:{label:"起草时间",prop:"date"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleWatch(e.$index,e.row)}}},[t._v("查看 ")])]}}])})],1),a("el-dialog",{attrs:{title:"修改合同",visible:t.dialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("edit-contract")],1),a("el-dialog",{attrs:{title:"确认会签",visible:t.dialog2Visible,"append-to-body":""},on:{"update:visible":function(e){t.dialog2Visible=e}}},[a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog2Visible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.postMsg}},[t._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"查看",visible:t.dialog3Visible,"append-to-body":""},on:{"update:visible":function(e){t.dialog3Visible=e}}},[a("el-form",{ref:"draftForm",attrs:{model:t.draftForm,"label-position":"left","label-width":"85px"}},[a("el-form-item",{attrs:{label:"合同名称:",prop:"name"}},[a("el-input",{model:{value:t.draftForm.name,callback:function(e){t.$set(t.draftForm,"name",e)},expression:"draftForm.name"}})],1),a("el-form-item",{attrs:{label:"客户:",prop:"userName"}},[a("el-input",{model:{value:t.draftForm.userName,callback:function(e){t.$set(t.draftForm,"userName",e)},expression:"draftForm.userName"}})],1),a("el-form-item",{attrs:{label:"活动时间",prop:"date"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.draftForm.date,callback:function(e){t.$set(t.draftForm,"date",e)},expression:"draftForm.date"}})],1),a("el-form-item",{attrs:{label:"合同内容",prop:"info"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6}},model:{value:t.draftForm.info,callback:function(e){t.$set(t.draftForm,"info",e)},expression:"draftForm.info"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialog3Visible=!1}}},[t._v("确 定")])],1)],1)],2)},it=[],st={mounted:function(){this.sendDataToBackend(),this.fetchConstructs()},name:"isSign",data:function(){var t=this,e=function(){var e=[];return t.$axios({url:t.$url+"/contract/selectContractByType",method:"post",data:{matter:7,userName:t.$store.userName,id:t.$store.userName,token:t.$store.state.token,type:"issign"},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){t.data.contracts.forEach((function(t,a){e.push({index:a+1,date:t.beginTime,contract_name:t.name,id:t.id})}))})),e};return{search:"",tableData:e(),dialogVisible:!1,dialog2Visible:!1,dialog3Visible:!1,msg:"",index:-1,row:-1,draftForm:{name:"",userName:"",date:"",info:""}}},computed:{constructs:function(){return[]}},methods:{fetchConstructs:function(){this.constructs=["Construct 1","Construct 2","Construct 3"]},sendDataToBackend:function(){var t=this,e={id:this.$store.userName};this.$axios({url:this.$url+"/contract/selectContractByType",method:"post",data:e,headers:{"Content-Type":"application/json"}}).then((function(e){t.constructs=e.data.data}))},handleEdit:function(t,e){this.dialog2Visible=!0,this.index=t,this.row=e,console.log(t,e)},handleWatch:function(t,e){var a=this;this.index=t,this.row=e,this.$axios({url:this.$url+"/contract/selContract",method:"post",data:{contract_name:e.contract_name,matter:7,userName:this.$store.userName,token:this.$store.state.token,id:this.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){a.handleData(t)})),this.dialog3Visible=!0},handleData:function(t){if(-1===t.data.state&&(this.$notify({title:"失败",message:"获取失败！",type:"error"}),this.dialog3Visible=!1),0===t.data.state){this.draftForm.name=t.data.name,this.draftForm.userName=t.data.customer;var e=[];e[0]=t.data.beginTime,e[1]=t.data.endTime,this.draftForm.date=e,this.draftForm.info=t.data.content}this.dialogVisible=!1},postMsg:function(){var t=this;this.$axios({url:this.$url+"/contract/counter",method:"post",data:{token:this.$store.state.token,id:this.row.id},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(-1===e.data.state&&t.$notify({title:"失败",message:"定稿失败！",type:"error"}),0===e.data.state){var a=[];e.data.data.forEach((function(t,e){a.push({index:e+1,date:t.beginTime,contract_name:t.name,id:t.id})})),t.tableData=a,t.$notify({title:"成功",message:"会签成功！",type:"success"})}t.msg="",t.dialog2Visible=!1}))},handleDelete:function(t,e){console.log(t,e)},comment:function(){var t=this;this.$prompt("定稿意见","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(e){var a=e.value;t.$message({type:"success",message:"提交成功！定稿意见为："+a})})).catch((function(){t.$message({type:"info",message:"取消输入"})}))}}},lt=st,ct=Object(l["a"])(lt,rt,it,!1,null,"b2154a3e",null),dt=ct.exports,ut=a("1954");o["default"].use(h["a"]);var mt=new h["a"]({mode:"history",routes:[{path:"/",name:"login",component:function(){return Promise.resolve().then(a.bind(null,"1954"))}},{path:"/login",name:"login",component:function(){return Promise.resolve().then(a.bind(null,"1954"))}},{path:"/register",name:"注册",component:function(){return a.e("chunk-4ca5a967").then(a.bind(null,"2f50"))}},{path:"/test1",name:"CommittedContract",component:function(){return a.e("chunk-2d0c0de7").then(a.bind(null,"442c"))}},{path:"/test2",name:"CommittedContract2",component:function(){return a.e("chunk-3590052c").then(a.bind(null,"2d01"))}},{path:"/test3",name:"CommittedContract",component:function(){return a.e("chunk-7abcf57c").then(a.bind(null,"5afe"))}},{path:"/manager",name:"管理",redirect:"/manager/userManager",component:function(){return a.e("chunk-2daecf44").then(a.bind(null,"048b"))},children:[{path:"userManager",name:"用户管理",component:function(){return a.e("chunk-747fd7b1").then(a.bind(null,"9107"))}},{path:"permission",name:"起草",component:V},{path:"login",name:"退出登录",redirect:"/login",component:function(){return Promise.resolve().then(a.bind(null,"1954"))}},{path:"allocpermission",name:"分配权限",component:function(){return a.e("chunk-2d0ac3bf").then(a.bind(null,"1956"))}},{path:"process",name:"查看合同进度",component:function(){return a.e("chunk-2d0e88f9").then(a.bind(null,"8a93"))}},{path:"checklog",name:"查看操作日志",component:function(){return a.e("chunk-2d0b255b").then(a.bind(null,"2458"))}}]},{path:"/mainFrame",name:"主页",redirect:"/mainFrame/draft",component:function(){return a.e("chunk-39e9c3ae").then(a.bind(null,"57ad"))},children:[{path:"login",name:"退出登录",redirect:"/login",component:ut["default"]},{path:"draft",name:"起草合同",component:$},{path:"addCustomer",name:"添加用户",component:function(){return Promise.resolve().then(a.bind(null,"bebb"))}},{path:"uncommitted",name:"待定稿合同",component:function(){return a.e("chunk-3590052c").then(a.bind(null,"2d01"))}},{path:"counterSign",name:"会签",component:S},{path:"watchContract",name:"审批",component:L},{path:"sign",name:"签订",component:J},{path:"iscounterSign",name:"已会签",component:G},{path:"isWatch",name:"已审批",component:nt},{path:"isSign",name:"已会签",component:dt}]}]}),ft=(a("3cd6"),a("bc3a")),pt=a.n(ft),ht=a("8237"),bt=a.n(ht),gt=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("3ca3"),a("ddb0"),a("2b3d"),a("ade3")),vt=a("96eb"),wt=a.n(vt);function yt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function kt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(a),!0).forEach((function(e){Object(gt["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var $t={state:0,token:"123456"},xt={state:0},_t={state:0,constructs:["Construct 1","Construct 2","Construct 3"]},Ct={state:1},Ft={state:-1},Rt={state:0,token:"123456"},Vt={state:1};wt.a.mock("http://localhost:10087/user/login","post",(function(t){var e=new URLSearchParams(t.body),a=e.get("user"),o=e.get("passwd");return"admin"===a&&"123456"===o?kt({},$t,{group:2,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Headers":"Content-Type"}}):"user"===a&&"654321"===o?kt({},$t,{group:1,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Headers":"Content-Type"}}):kt({},"admin"!==a&&"user"!==a?Ct:Ft,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Headers":"Content-Type"}})})),wt.a.mock("http://localhost:10087/user/register","post",(function(t){var e=new URLSearchParams(t.body),a=e.get("email"),o=e.get("user"),n=e.get("passwd");return"11"===o&&""!=n&&""!=a?kt({},Rt,{group:1,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Headers":"Content-Type"}}):kt({},Vt,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Headers":"Content-Type"}})})),wt.a.mock("http://localhost:10087/contract/addContract","post",(function(t){alert("111进入已草稿后端！");var e=new URLSearchParams(t.body),a=e.get("contract_name"),o=e.get("start_time"),n=e.get("end_time"),r=e.get("user_name"),i=e.get("file_name");if(alert(a+o+n+" "+r+" "+i),""!=a)return kt({},xt,{group:1,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Headers":"Content-Type"}})})),wt.a.mock("http://localhost:10087/mainFrame/counterSign","post",(function(t){var e=new URLSearchParams(t.body),a=e.get("user_name");return alert("待会签用户名："+a),kt({},_t,{group:1,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Headers":"Content-Type"}})}));a("d81d");var Tt=wt.a.mock({"customers|3":[{"id|+1":1,name:"@cname"}]});wt.a.mock("http://localhost:10087/customer/selectAllCustomer","post",(function(t){alert("customer/selectAllCustomer");var e=new URLSearchParams(t.body),a=e.get("token");return"123456"===a?{code:200,message:"success",customers:Tt.customers.map((function(t,e){return{value:t.id,label:t.name,index:e}}))}:{code:a,message:"invalid"}}));var Dt=wt.a.mock({"contracts|5":[{"id|+1":1,name:"@cname",date:"2023.6.13"}]});function Ut(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function Ot(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(a),!0).forEach((function(e){Object(gt["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ut(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}wt.a.mock("http://localhost:10087/manager/display/search","post",(function(t){alert("后端响应/contract/selectContractByType");var e=new URLSearchParams(t.body),a=e.get("matter"),o=e.get("token"),n=e.get("type");return"1"!==a&&"2"!==a||alert("待定稿/会签"),{code:o,message:"success",contracts:Dt.contracts.map((function(t,e){return"sign"===n?{id:t.id,name:t.name,beginTime:t.date,index:e}:{id:t.id,name:t.name,date:t.date,index:e}}))}}));var It={"id|+1":1,name:"这是详细的吗",start_time:"2003-05-01",end_time:"2023-11-11",content:"帅帅帅!!!",customer:"王文"};wt.a.mock("http://localhost:10087/contract/selContract","post",(function(t){var e=new URLSearchParams(t.body),a=e.get("token"),o=(e.get("matter"),e.get("contract_name"));return alert("这是查看合同信息的后端"+o),Ot({code:a,message:"success",state:0},It)}));var St=wt.a.mock({"customers|3":[{"id|+1":1,name:"@cname"}]});wt.a.mock("http://localhost:10087/contract/commit","post",(function(t){var e=new URLSearchParams(t.body),a=e.get("contract_name"),o=e.get("user_name"),n=e.get("content");alert("后端待定稿="+a+" ["+o+"] "+n);var r=e.get("token");return"123456"===r?{code:200,message:"success",customers:St.customers.map((function(t,e){return{value:t.id,label:t.name,index:e}}))}:{code:r,message:"invalid"}})),wt.a.mock("http://localhost:10087/contract/counter","post",(function(t){var e=new URLSearchParams(t.body),a=e.get("contract_name"),o=e.get("user_name"),n=e.get("content");alert("后端会签成功="+a+" ["+o+"] "+n);var r=e.get("token");return"123456"===r?{code:200,message:"success"}:{code:r,message:"invalid"}})),wt.a.mock("http://localhost:10087/contract/watch","post",(function(t){var e=new URLSearchParams(t.body),a=e.get("contract_name"),o=e.get("user_name"),n=e.get("content");alert("后端审批成功="+a+" ["+o+"] "+n);var r=e.get("token");return"123456"===r?{code:200,message:"success"}:{code:r,message:"invalid"}})),wt.a.mock("http://localhost:10087/contract/sign","post",(function(t){var e=new URLSearchParams(t.body),a=e.get("contract_name"),o=e.get("user_name"),n=e.get("content");alert("后端签订成功="+a+" ["+o+"] "+n);var r=e.get("token");return"123456"===r?{code:200,message:"success"}:{code:r,message:"invalid"}}));var Nt=wt.a.mock({"manager_entities|5":[{"id|+1":1,name:"@cname",date:"2023.6.13"}]});wt.a.mock("http://localhost:10087/user/selectAllRight","post",(function(){return{message:"success",manager_entities:Nt.manager_entities.map((function(t,e){return{id:t.id,name:t.name,date:t.date,index:e,rol_id:1}}))}}));var At=wt.a.mock({"contracts|5":[{"id|+1":1,name:"@cname",date:"2023.6.13"}]});wt.a.mock("http://localhost:10087/contract/selectAllContract","post",(function(){return{code:200,message:"success",contracts:At.contracts.map((function(t,e){return{id:t.id,name:t.name,beginTime:t.date,index:e}}))}})),wt.a.mock("http://localhost:10087/user/addRootList","post",(function(t){var e=new URLSearchParams(t.body),a=new e.get("list");window.console.log("backend"+a)})),o["default"].config.productionTip=!1,o["default"].use(m.a),o["default"].prototype.$axios=pt.a,o["default"].prototype.$md5=bt.a,o["default"].prototype.$server="http://localhost",o["default"].prototype.$localServer="http://localhost",o["default"].prototype.$url=o["default"].prototype.$server+":8000",o["default"].prototype.$loginUrl=o["default"].prototype.$url+"/user/login",o["default"].prototype.$registerUrl=o["default"].prototype.$url+"/user/register",o["default"].prototype.$salt="QYXTQL%%%%%11231LDLJHHAHSACOASJCPJASODPP:LNKJDAS@123123qwe123dfaf513234",new o["default"]({store:p,router:mt,render:function(t){return t(d)}}).$mount("#app")},"852e":function(t,e,a){"use strict";var o=a("e82b"),n=a.n(o);n.a},"85ec":function(t,e,a){},ab36:function(t,e,a){},b144:function(t,e,a){"use strict";var o=a("ab36"),n=a.n(o);n.a},bebb:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"cusForm",staticStyle:{width:"300px",margin:"0 auto"},attrs:{model:t.cusForm,rules:t.rules,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[a("el-input",{model:{value:t.cusForm.name,callback:function(e){t.$set(t.cusForm,"name",e)},expression:"cusForm.name"}})],1),a("el-form-item",{attrs:{label:"客户电话",prop:"tel"}},[a("el-input",{model:{value:t.cusForm.telephone,callback:function(e){t.$set(t.cusForm,"telephone",e)},expression:"cusForm.telephone"}})],1),a("el-form-item",{attrs:{label:"客户地址",prop:"address"}},[a("el-input",{model:{value:t.cusForm.address,callback:function(e){t.$set(t.cusForm,"address",e)},expression:"cusForm.address"}})],1),a("el-form-item",{attrs:{label:"客户邮箱",prop:"mail"}},[a("el-input",{model:{value:t.cusForm.postcode,callback:function(e){t.$set(t.cusForm,"postcode",e)},expression:"cusForm.postcode"}})],1),a("el-form-item",{attrs:{label:"银行名称",prop:"bank"}},[a("el-input",{model:{value:t.cusForm.bank,callback:function(e){t.$set(t.cusForm,"bank",e)},expression:"cusForm.bank"}})],1),a("el-form-item",{attrs:{label:"银行账号",prop:"account"}},[a("el-input",{model:{value:t.cusForm.account,callback:function(e){t.$set(t.cusForm,"account",e)},expression:"cusForm.account"}})],1),a("el-form-item",[a("el-col",{attrs:{span:15}},[a("el-button",{attrs:{type:"primary"},on:{click:t.postCustomer}},[t._v("确定")])],1),a("el-col",{attrs:{span:9}},[a("el-button",{attrs:{type:"danger"},on:{click:t.resetJson}},[t._v("重置")])],1)],1)],1)},n=[],r=(a("b0c0"),{mounted:function(){},name:"addCustomer",data:function(){return{cusForm:{name:"",address:"",telephone:"",postcode:"",bank:"",account:""},rules:{name:{required:!0,message:"请输入客户姓名",trigger:"blur"}}}},methods:{cleanJson:function(t){for(var e in t)t[e]="";return t},postCustomer:function(){var t=this;this.$refs["cusForm"].validate((function(e){e&&t.$axios({url:t.$url+"/add/customer",method:"post",data:{types:1,token:t.$store.state.token,name:t.cusForm.name,address:t.cusForm.address,telephone:t.cusForm.telephone,postcode:t.cusForm.postcode,bank:t.cusForm.bank,account:t.cusForm.account},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){-1===e.data.state&&t.$notify({title:"失败",message:"添加客户失败！",type:"error"}),0===e.data.state&&(t.$notify({title:"成功",message:"成功添加客户！",type:"success"}),t.cusForm=t.cleanJson(t.cusForm))}))}))},resetJson:function(){this.cusForm=this.cleanJson(this.cusForm)}}}),i=r,s=a("2877"),l=Object(s["a"])(i,o,n,!1,null,"03918330",null);e["default"]=l.exports},e82b:function(t,e,a){},ff82:function(t,e,a){"use strict";var o=a("4f39"),n=a.n(o);n.a}});
//# sourceMappingURL=app.bcdf0d0d.js.map