(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ca5a967"],{"2f50":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"register"},[t("h1",{staticStyle:{"text-align":"center"}},[e._v("注册")]),t("el-form",{ref:"registerForm",attrs:{model:e.registerForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名：",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.registerForm.name,callback:function(r){e.$set(e.registerForm,"name",r)},expression:"registerForm.name"}})],1),t("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[t("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.registerForm.email,callback:function(r){e.$set(e.registerForm,"email",r)},expression:"registerForm.email"}})],1),t("el-form-item",{attrs:{label:"密码：",prop:"passwd"}},[t("el-input",{attrs:{placeholder:"请输入密码","show-password":"",clearable:""},model:{value:e.registerForm.passwd,callback:function(r){e.$set(e.registerForm,"passwd",r)},expression:"registerForm.passwd"}})],1),t("el-form-item",{attrs:{label:"再次密码：",prop:"passwdagain"}},[t("el-input",{attrs:{placeholder:"请确认密码","show-password":"",clearable:""},model:{value:e.registerForm.passwdagain,callback:function(r){e.$set(e.registerForm,"passwdagain",r)},expression:"registerForm.passwdagain"}})],1),t("el-form-item",{attrs:{"label-width":"0px"}},[t("el-button",{staticStyle:{"border-color":"#ffffff","margin-right":"43%",left:"0px"},attrs:{size:"medium"},on:{click:e.clickLogin}},[e._v("登录")]),t("el-button",{attrs:{type:"primary",size:"medium",loading:e.isLoading},on:{click:e.clickRegister}},[e._v(e._s(e.text))])],1)],1)],1)},a=[],i=(t("b0c0"),{name:"register",data:function(){var e=this,r=function(r,t,s){""===t?s(new Error("请再次输入密码")):t!==e.registerForm.passwd?s(new Error("两次输入密码不一致!")):s()};return{state:-1,text:"创建账号",isDisabled:!1,isLoading:!1,registerForm:{name:"",email:"",passwd:"",passwdagain:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],email:[{required:!0,message:"请输入email",trigger:"blur"}],passwd:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码必须大于6",trigger:"blur"}],passwdagain:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码必须大于6",trigger:"blur"},{validator:r,trigger:"blur"}]}}},methods:{clickRegister:function(){var e=this;this.isLoading&&(this.text=""),this.$refs["registerForm"].validate((function(r){if(!r)return e.text="创建账户",e.isLoading=!1,e.$alert("账号不成立！","警告",{confirmButtonText:"确定",callback:{}}),!1;e.$axios({url:e.$registerUrl,method:"post",data:{user:e.registerForm.name,email:e.registerForm.email,passwd:e.registerForm.passwd},transformRequest:[function(e){var r="";for(var t in e)r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&";return r}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(r){0===r.data.state?e.$axios({url:e.$loginUrl,method:"post",data:{types:1,user:e.registerForm.name,email:e.registerForm.email,passwd:e.registerForm.passwd},transformRequest:[function(e){var r="";for(var t in e)r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&";return r}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(r){e.state=r.data.state,e.$store.state.userName=e.registerForm.name,e.$store.state.email=e.registerForm.emial,e.$store.state.passwd=e.registerForm.passwd,e.$store.state.token=r.data.token,e.$store.state.group=r.data.group,e.$router.push("/mainFrame")})):alert("账号已存在！")}))}))},loginProcess:function(){0===this.state?this.$router.push("/mainFrame"):(this.text="登录",this.isLoading=!1)},clickLogin:function(){this.$router.push("/login")}}}),o=i,n=(t("37d9"),t("2877")),l=Object(n["a"])(o,s,a,!1,null,"6df661cc",null);r["default"]=l.exports},"37d9":function(e,r,t){"use strict";var s=t("9c53"),a=t.n(s);a.a},"9c53":function(e,r,t){}}]);
//# sourceMappingURL=chunk-4ca5a967.8a5a5aa7.js.map